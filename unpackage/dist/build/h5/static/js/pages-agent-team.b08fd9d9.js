(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-agent-team"],{"0b32":function(t,e,i){"use strict";i.r(e);var a=i("b51e"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},"5e0d":function(t,e,i){var a=i("a414");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("8995baa6",a,!0,{sourceMap:!1,shadowMode:!1})},"64ea":function(t,e,i){"use strict";var a=i("5e0d"),n=i.n(a);n.a},"7e64":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"uni-card"},[i("v-uni-view",{staticClass:"uni-card-content user-top-card"},[i("v-uni-view",{staticClass:"uni-flex uni-row"},[i("v-uni-view",{staticClass:"text uni-h5",staticStyle:{flex:"1"}},[t._v("团队余额(元)")])],1),i("v-uni-view",{staticClass:"uni-flex uni-row"},[i("v-uni-view",{staticClass:"text uni-h3",staticStyle:{flex:"1"}},[t._v(t._s(t.memberMoney))])],1),i("v-uni-view",{staticClass:"uni-flex uni-row"},[i("v-uni-view",{staticClass:"text uni-h5",staticStyle:{flex:"1"}},[t._v("直属下级(人)："+t._s(t.myMemberCount))]),i("v-uni-view",{staticClass:"text uni-h5",staticStyle:{flex:"1"}},[t._v("所有下级(人)："+t._s(t.allMemberCount))])],1)],1)],1),i("v-uni-view",{staticClass:"uni-card"},[i("v-uni-view",{staticClass:"uni-card-content"},[i("v-uni-view",{staticClass:"uni-card-content-inner",staticStyle:{padding:"0px 16px"}},[i("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"flex-start","align-items":"center"}},[i("v-uni-text",{staticStyle:{color:"#333"}},[t._v("用户类型:")]),i("v-uni-picker",{attrs:{value:t.index,range:t.option,"range-key":"label"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input",staticStyle:{color:"#333"}},[t._v(t._s(t.option[t.index].label))])],1)],1),i("v-uni-view",{staticClass:"uni-flex"},[i("v-uni-view",{staticClass:"text",staticStyle:{flex:"1"}},[i("v-uni-input",{staticClass:"uni-input",attrs:{type:"text",placeholder:"请输入账号查询"},model:{value:t.accountsearch,callback:function(e){t.accountsearch=e},expression:"accountsearch"}})],1),i("v-uni-view",{staticClass:"text",staticStyle:{width:"100upx","text-align":"center",color:"#3a6ee6","line-height":"80upx"},attrs:{"hover-class":"uni-list-cell-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getData(1)}}},[t._v("搜索")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"uni-flex uni-row"},[i("v-uni-view",{staticClass:"text table-hr"},[t._v("类型")]),i("v-uni-view",{staticClass:"text table-hr"},[t._v("账号")]),i("v-uni-view",{staticClass:"text table-hr"},[t._v("下级")]),i("v-uni-view",{staticClass:"text table-hr"},[t._v("操作")])],1),1==t.showresetParent?i("v-uni-view",{staticStyle:{margin:"0 auto"}},[i("v-uni-view",{staticStyle:{"text-align":"center",color:"#3a6ee6"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.resetParent()}}},[t._v("返回上层")])],1):t._e(),t.nodata?i("v-uni-view",{staticStyle:{margin:"0 auto"}},[i("v-uni-image",{staticStyle:{width:"200upx",height:"200upx"},attrs:{src:"../../static/img/nodata.png"}}),i("v-uni-view",{staticStyle:{"text-align":"center"}},[t._v("暂无数据")])],1):t._e(),t._l(t.lists,function(e,a){return i("v-uni-view",{key:a,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.trigerCollapse(a)}}},[i("v-uni-view",{staticClass:"uni-flex uni-row uni-row-userlist"},[i("v-uni-view",{staticClass:"text table-hd"},[0==e.proxy?i("v-uni-view",{staticClass:"text"},[t._v("会员")]):t._e(),1==e.proxy?i("v-uni-view",{staticClass:"text"},[t._v("代理")]):t._e()],1),i("v-uni-view",{staticClass:"text table-hd"},[t._v(t._s(e.username))]),i("v-uni-view",{staticClass:"text table-hd"},[i("span",{staticStyle:{color:"#3A6EE6"}},[t._v(t._s(e.membercount))])]),i("v-uni-view",{staticClass:"text table-hd"},[i("v-uni-button",{staticClass:"mini-btn buy-mini-btn",attrs:{type:"primary",size:"mini"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showParent(e.id)}}},[t._v("下级")])],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showselect==a,expression:"showselect == index"}],staticClass:"uni-flex uni-row",staticStyle:{"background-color":"#EFEFEF",width:"100%",height:"380upx","padding-top":"0"}},[i("v-uni-view",{staticStyle:{margin:"20upx",width:"100%","text-align":"center"}},[i("v-uni-view",{staticClass:"uni-flex uni-row"},[i("v-uni-view",{staticClass:"text",staticStyle:{width:"200upx"}},[t._v("累计返佣：")]),i("v-uni-view",{staticClass:"text",staticStyle:{flex:"1",float:"right"}},[t._v(t._s(e.commission)+"元")])],1),i("v-uni-view",{staticClass:"uni-flex uni-row"},[i("v-uni-view",{staticClass:"text",staticStyle:{width:"200upx"}},[t._v("当前余额：")]),i("v-uni-view",{staticClass:"text",staticStyle:{flex:"1",float:"right"}},[t._v(t._s(e.balance)+"元")])],1),i("v-uni-view",{staticClass:"uni-flex uni-row"},[i("v-uni-view",{staticClass:"text",staticStyle:{width:"200upx"}},[t._v("注册时间：")]),i("v-uni-view",{staticClass:"text",staticStyle:{flex:"1",float:"right"}},[t._v(t._s(e.regtime))])],1),i("v-uni-view",{staticClass:"uni-flex uni-row"},[i("v-uni-view",{staticClass:"text",staticStyle:{width:"200upx"}},[t._v("登录时间：")]),i("v-uni-view",{staticClass:"text",staticStyle:{flex:"1",float:"right"}},[t._v(t._s(e.logintime))])],1),i("v-uni-view",{staticClass:"uni-flex uni-row"},[i("v-uni-view",{staticClass:"text",staticStyle:{width:"200upx"}},[t._v("玩家类型：")]),0==e.proxy?i("v-uni-view",{staticClass:"text",staticStyle:{flex:"1",float:"right"}},[t._v("会员")]):t._e(),1==e.proxy?i("v-uni-view",{staticClass:"text",staticStyle:{flex:"1",float:"right"}},[t._v("代理")]):t._e()],1)],1)],1)],1)}),t.showLoadMore?i("v-uni-view",{staticClass:"uni-loadmore"},[t._v(t._s(t.loadMoreText))]):t._e()],2)},s=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return s}),i.d(e,"a",function(){return a})},a414:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".content[data-v-41a48100]{background-color:#fff}.user-top-card[data-v-41a48100]{color:#fff;box-shadow:0 0 %?12?% %?8?% #cadafd;padding:%?20?%;border-radius:%?15?%;background:-webkit-linear-gradient(#6680d8,#3e74fe);\n\t/* Safari 5.1 - 6.0 */background:-o-linear-gradient(#6680d8,#3e74fe);\n\t/* Opera 11.1 - 12.0 */background:-moz-linear-gradient(#6680d8,#3e74fe);\n\t/* Firefox 3.6 - 15 */background:linear-gradient(#6680d8,#3e74fe);\n\t/* 标准的语法（必须放在最后） */border-radius:%?20?%}.uni-h5[data-v-41a48100]{color:#fff}.uni-h5-menu[data-v-41a48100]{color:#626266;text-align:center;margin-top:%?30?%}.uni-h4[data-v-41a48100]{text-align:center}.uni-user-menu[data-v-41a48100]{box-shadow:0 0 %?12?% %?8?% #efefef;width:40%;padding:%?35?%;border:%?2?% solid #efefef;border-radius:%?10?%}.image[data-v-41a48100]{width:%?100?%;height:%?100?%;margin-left:33.3%;margin-top:%?15?%}.user-menu-top[data-v-41a48100]{height:%?330?%}.user-menu-bottom[data-v-41a48100]{margin-top:%?30?%;height:%?330?%}.uni-user-menu-hr[data-v-41a48100]{width:5%}.uni-card-footer[data-v-41a48100]:before,.uni-card-header[data-v-41a48100]:after{background-color:initial}.bottom-btn-left[data-v-41a48100]{width:35%;background-color:#3e74fe;border-radius:%?40?%;box-shadow:0 0 %?10?% %?6?% #cadafd}.table-hr[data-v-41a48100]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#626367}.table-hd[data-v-41a48100]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?20?%}.table-hd-two[data-v-41a48100]{width:%?100?%;text-align:center}.table-hr-two[data-v-41a48100]{width:%?90?%;text-align:center}.mini-btn[data-v-41a48100]{background-color:#355ee8}.mini-btn-warn[data-v-41a48100]{background-color:#ee7d33}.uni-row[data-v-41a48100]{padding-top:%?20?%}.buy-mini-btn[data-v-41a48100]{background-color:#3a6ee6;box-shadow:0 0 %?6?% %?5?% #cfdafb;border-radius:%?50?%}.uni-row-userlist[data-v-41a48100]{border-bottom:%?2?% solid #efefef}",""])},b149:function(t,e,i){"use strict";i.r(e);var a=i("7e64"),n=i("0b32");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("64ea");var o,r=i("f0c5"),l=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"41a48100",null,!1,a["a"],o);e["default"]=l.exports},b51e:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("55dd");var n=a(i("fd40")),s={data:function(){return{showselect:-1,selectid:0,current:0,loadMoreText:"加载中...",showLoadMore:!1,max:1,page:1,nodata:!1,sort:1,lists:[],status:"",accountsearch:"",parentid:0,allMemberCount:0,memberMoney:0,myMemberCount:0,showresetParent:!1,aparentid:[],hierarchy:0,option:[{label:"全部",value:""},{label:"代理",value:"1"},{label:"会员",value:"0"}],index:"0"}},onNavigationBarButtonTap:function(t){this.showMenu()},onPullDownRefresh:function(){this.parentid=0,this.sort=1,this.page=1,this.getData(),uni.stopPullDownRefresh()},onUnload:function(){this.max=0,this.data=[],this.loadMoreText="加载更多",this.showLoadMore=!1},onReachBottom:function(){var t=this;this.max<20?this.loadMoreText="没有更多数据了!":(this.page=this.page+1,setTimeout(function(){t.getData(2)},300),this.showLoadMore=!0)},onLoad:function(){this.getData()},components:{uniIcon:n.default},methods:{bindPickerChange:function(t){this.index=t.target.value},trigerCollapse:function(t){this.showselect==t?this.showselect=-1:this.showselect=t},showMenu:function(){var t=this;uni.showActionSheet({itemList:["等级最高","最新注册","代理","会员"],success:function(e){t.sort=e.tapIndex+1,t.page=1,t.getData()},fail:function(t){console.log(t.errMsg)}})},setData:function(t,e){this.allMemberCount=t.allMemberCount,this.memberMoney=t.memberMoney,this.myMemberCount=t.myMemberCount;t=t.lists;this.showresetParent=!1,this.nodata=!1,1==this.page&&0==t.length&&(this.nodata=!0),this.parentid>0&&(this.showresetParent=!0),2==e?this.lists.push.apply(this.lists,t):this.lists=t,this.max=t.length},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(1==e){this.page=1,this.showLoadMore=!1;var i=uni.getStorageSync("agent_team_data");i&&this.setData(i)}this.$ajax.get({url:this.$service.api_lists.agent_team,data:{sort:this.sort,page:this.page,accountsearch:this.accountsearch,parentid:this.parentid,user_type:this.option[this.index].value}}).then(function(i){if(1==i.data.code){var a=i.data.data;t.setData(a,e),1==e&&uni.setStorage({key:"agent_team_data",data:a,success:function(){console.log("success")}})}}).catch(function(t){uni.showToast({title:"系统繁忙,请稍后重试!",icon:"none"}),console.log("request fail",t)})},showParent:function(t){this.sort=1,this.page=1,this.loadMoreText="加载中...",this.hierarchy=this.hierarchy+1,this.aparentid[this.hierarchy]=this.parentid,console.log(this.aparentid),this.parentid=t,this.getData()},resetParent:function(){this.sort=1,this.page=1,this.loadMoreText="加载中...",this.parentid=this.aparentid[this.hierarchy],this.aparentid.splice(this.hierarchy,1),this.hierarchy=this.hierarchy-1,this.getData()}}};e.default=s}}]);